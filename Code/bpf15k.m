function y = bpf15k(x)
%BPF15K Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 8.2 and the DSP System Toolbox 8.5.
% Generated on: 08-Jul-2020 11:56:19

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % FIR Window Bandpass filter designed using the FIR1 function.
    %
    % % All frequency values are in Hz.
    % Fs = 48000;  % Sampling Frequency
    %
    % N    = 350;      % Order
    % Fc1  = 12100;    % First Cutoff Frequency
    % Fc2  = 18000;    % Second Cutoff Frequency
    % flag = 'scale';  % Sampling Flag
    % Beta = 0.5;      % Window Parameter
    % % Create the window vector for the design algorithm.
    % win = kaiser(N+1, Beta);
    %
    % % Calculate the coefficients using the FIR1 function.
    % b  = fir1(N, [Fc1 Fc2]/(Fs/2), 'bandpass', win, flag);
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [-0.00234292236942628 0.00303790528715064 ...
        -0.000117531385118598 -0.00135861901814683 0.000154873480071507 ...
        -0.000366023016657811 0.00232753464098725 -0.00145202863843089 ...
        -0.00232036726095014 0.00331790557404224 -0.000277487282646935 ...
        -0.00154613614985192 0.00032201890832706 -0.000275384691074788 ...
        0.00229258057213625 -0.00164079526504957 -0.00228118379275972 ...
        0.00360937337752821 -0.000467181353095495 -0.00173585688348753 ...
        0.000519574023085391 -0.000192489624246715 0.00224042563034148 ...
        -0.00183116940383028 -0.00222461162023896 0.00391254792288769 ...
        -0.000689442941876927 -0.00192657904473908 0.000750470179234545 ...
        -0.000120131866383131 0.00217032368411312 -0.00202193017329713 ...
        -0.00214990694908907 0.00422795373928831 -0.000947560914403809 ...
        -0.00211706564023746 0.00101813506196788 -6.1504773658295e-05 ...
        0.00208152876748374 -0.00221182712113374 -0.00205631947199315 ...
        0.00455650748383707 -0.00124545090219539 -0.00230605546268612 ...
        0.00132667436624806 -2.03032524642775e-05 0.00197326391353723 ...
        -0.00239959103322265 -0.00194305799873891 0.00489966187067063 ...
        -0.00158788929833023 -0.00249227407651599 0.00168112683530653 ...
        -8.7009167912572e-07 0.00184467523612901 -0.00258394506800704 ...
        -0.00180923991088966 0.00525960401042139 -0.00198084548178427 ...
        -0.00267444507251076 0.00208782789474463 -8.40832632734694e-06 ...
        0.00169476445267328 -0.00276361610248036 -0.00165381680151953 ...
        0.00563953559390068 -0.00243196219798623 -0.00285130147588979 ...
        0.00255493816046312 -4.92947604480135e-05 0.00152228892491377 ...
        -0.00293734617280373 -0.00147546394545789 0.00604407963618645 ...
        -0.00295126562967663 -0.00302159718969365 0.0030932294516812 ...
        -0.000131552643965003 0.00132561111485614 -0.00310390389057166 ...
        -0.00127241294796256 0.00647988902080635 -0.0035522427779013 ...
        -0.00318411835400923 0.00371728606574148 -0.00026558265571416 ...
        0.00110246635508545 -0.00326209571512647 -0.00104219174508365 ...
        0.006956588164511 -0.00425352737717038 -0.00333769450163907 ...
        0.00444740070204259 -0.000465328638096298 0.000849593269819167 ...
        -0.00341077696307163 -0.000781207112725842 0.00748828697246139 ...
        -0.00508163606155609 -0.00348120939225593 0.00531268283076625 ...
        -0.000750207025468584 0.000562122381135074 -0.00354886243825744 ...
        -0.0004840463872215 0.00809612503396463 -0.00607560621446189 ...
        -0.00361361140988665 0.00635639192415965 -0.0011484477655909 ...
        0.000232515561221388 -0.00367533656898705 -0.0001422498266068 ...
        0.00881277685514276 -0.00729528026497657 -0.00373392341270376 ...
        0.00764560621238596 -0.00170320921595304 -0.000151383843699188 ...
        -0.00378926294397846 0.000257984242850329 0.0096909522290696 ...
        -0.00883708812152002 -0.003841251929537 0.00928998635018368 ...
        -0.00248457332727835 -0.000610205370548767 -0.00388979314467517 ...
        0.000740431813099032 0.0108207560521469 -0.0108666574650502 ...
        -0.00393479560417759 0.0114814771979091 -0.00361526068927254 ...
        -0.00118141014782072 -0.00397617477874899 0.00134916815516522 ...
        0.0123689645926771 -0.0136937196312554 -0.00401385279636563 ...
        0.014588447185277 -0.00533266167003955 -0.00193979613206561 ...
        -0.0040477586280057 0.00217486708207634 0.0146811303710156 ...
        -0.0179709836211808 -0.00407782825724904 0.0194171710580299 ...
        -0.0081654011451494 -0.00305735622856823 -0.00410400483329031 ...
        0.00343596649847288 0.0186064452571574 -0.0253475578289264 ...
        -0.00412623880694547 0.0281338763807296 -0.0135807606707802 ...
        -0.00503211992427044 -0.00414448804928406 0.00581953175477658 ...
        0.0269363985141972 -0.0415349682907422 -0.00415871795256076 ...
        0.0492102205468699 -0.0277397541662951 -0.0101374275727528 ...
        -0.00416890151317611 0.013159394564604 0.0573526589843362 ...
        -0.108806848288704 -0.00417501939643575 0.181496224668806 ...
        -0.155374125368069 -0.0934358383199136 0.246446538993127 ...
        -0.0934358383199136 -0.155374125368069 0.181496224668806 ...
        -0.00417501939643575 -0.108806848288704 0.0573526589843362 ...
        0.013159394564604 -0.00416890151317611 -0.0101374275727528 ...
        -0.0277397541662951 0.0492102205468699 -0.00415871795256076 ...
        -0.0415349682907422 0.0269363985141972 0.00581953175477658 ...
        -0.00414448804928406 -0.00503211992427044 -0.0135807606707802 ...
        0.0281338763807296 -0.00412623880694547 -0.0253475578289264 ...
        0.0186064452571574 0.00343596649847288 -0.00410400483329031 ...
        -0.00305735622856823 -0.0081654011451494 0.0194171710580299 ...
        -0.00407782825724904 -0.0179709836211808 0.0146811303710156 ...
        0.00217486708207634 -0.0040477586280057 -0.00193979613206561 ...
        -0.00533266167003955 0.014588447185277 -0.00401385279636563 ...
        -0.0136937196312554 0.0123689645926771 0.00134916815516522 ...
        -0.00397617477874899 -0.00118141014782072 -0.00361526068927254 ...
        0.0114814771979091 -0.00393479560417759 -0.0108666574650502 ...
        0.0108207560521469 0.000740431813099032 -0.00388979314467517 ...
        -0.000610205370548767 -0.00248457332727835 0.00928998635018368 ...
        -0.003841251929537 -0.00883708812152002 0.0096909522290696 ...
        0.000257984242850329 -0.00378926294397846 -0.000151383843699188 ...
        -0.00170320921595304 0.00764560621238596 -0.00373392341270376 ...
        -0.00729528026497657 0.00881277685514276 -0.0001422498266068 ...
        -0.00367533656898705 0.000232515561221388 -0.0011484477655909 ...
        0.00635639192415965 -0.00361361140988665 -0.00607560621446189 ...
        0.00809612503396463 -0.0004840463872215 -0.00354886243825744 ...
        0.000562122381135074 -0.000750207025468584 0.00531268283076625 ...
        -0.00348120939225593 -0.00508163606155609 0.00748828697246139 ...
        -0.000781207112725842 -0.00341077696307163 0.000849593269819167 ...
        -0.000465328638096298 0.00444740070204259 -0.00333769450163907 ...
        -0.00425352737717038 0.006956588164511 -0.00104219174508365 ...
        -0.00326209571512647 0.00110246635508545 -0.00026558265571416 ...
        0.00371728606574148 -0.00318411835400923 -0.0035522427779013 ...
        0.00647988902080635 -0.00127241294796256 -0.00310390389057166 ...
        0.00132561111485614 -0.000131552643965003 0.0030932294516812 ...
        -0.00302159718969365 -0.00295126562967663 0.00604407963618645 ...
        -0.00147546394545789 -0.00293734617280373 0.00152228892491377 ...
        -4.92947604480135e-05 0.00255493816046312 -0.00285130147588979 ...
        -0.00243196219798623 0.00563953559390068 -0.00165381680151953 ...
        -0.00276361610248036 0.00169476445267328 -8.40832632734694e-06 ...
        0.00208782789474463 -0.00267444507251076 -0.00198084548178427 ...
        0.00525960401042139 -0.00180923991088966 -0.00258394506800704 ...
        0.00184467523612901 -8.7009167912572e-07 0.00168112683530653 ...
        -0.00249227407651599 -0.00158788929833023 0.00489966187067063 ...
        -0.00194305799873891 -0.00239959103322265 0.00197326391353723 ...
        -2.03032524642775e-05 0.00132667436624806 -0.00230605546268612 ...
        -0.00124545090219539 0.00455650748383707 -0.00205631947199315 ...
        -0.00221182712113374 0.00208152876748374 -6.1504773658295e-05 ...
        0.00101813506196788 -0.00211706564023746 -0.000947560914403809 ...
        0.00422795373928831 -0.00214990694908907 -0.00202193017329713 ...
        0.00217032368411312 -0.000120131866383131 0.000750470179234545 ...
        -0.00192657904473908 -0.000689442941876927 0.00391254792288769 ...
        -0.00222461162023896 -0.00183116940383028 0.00224042563034148 ...
        -0.000192489624246715 0.000519574023085391 -0.00173585688348753 ...
        -0.000467181353095495 0.00360937337752821 -0.00228118379275972 ...
        -0.00164079526504957 0.00229258057213625 -0.000275384691074788 ...
        0.00032201890832706 -0.00154613614985192 -0.000277487282646935 ...
        0.00331790557404224 -0.00232036726095014 -0.00145202863843089 ...
        0.00232753464098725 -0.000366023016657811 0.000154873480071507 ...
        -0.00135861901814683 -0.000117531385118598 0.00303790528715064 ...
        -0.00234292236942628]);
end

y = step(Hd,x);


% [EOF]

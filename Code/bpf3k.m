function y = bpf3k(x)
%BPF3K Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 8.2 and the DSP System Toolbox 8.5.
% Generated on: 08-Jul-2020 11:53:38

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % FIR Window Bandpass filter designed using the FIR1 function.
    %
    % % All frequency values are in Hz.
    % Fs = 48000;  % Sampling Frequency
    %
    % N    = 350;      % Order
    % Fc1  = 1;        % First Cutoff Frequency
    % Fc2  = 6000;     % Second Cutoff Frequency
    % flag = 'scale';  % Sampling Flag
    % Beta = 0.5;      % Window Parameter
    % % Create the window vector for the design algorithm.
    % win = kaiser(N+1, Beta);
    %
    % % Calculate the coefficients using the FIR1 function.
    % b  = fir1(N, [Fc1 Fc2]/(Fs/2), 'bandpass', win, flag);
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [-0.00125547577062138 -0.001770338022404 ...
        -0.0012713385093051 -3.9476655814498e-05 0.00120854269109465 ...
        0.00173708956645862 0.00122500825428798 -3.95863371478662e-05 ...
        -0.00132107724390518 -0.00186405687800126 -0.00133841703107889 ...
        -3.96935852223042e-05 0.00127672017365701 0.00183471095455701 ...
        0.0012947769417871 -3.97983896315473e-05 -0.00139291751712471 ...
        -0.00196676318816275 -0.00141196399370787 -3.99007402045401e-05 ...
        0.00135162674876348 0.0019420215427081 0.00137152800748281 ...
        -4.00006270070296e-05 -0.00147198674263714 -0.00207989230346541 ...
        -0.00149301986877286 -4.00980403421288e-05 0.0014343566043422 ...
        0.00206060840969831 0.00145641268442739 -4.01929707518672e-05 ...
        -0.00155949680986829 -0.00220520325894889 -0.00158286143016366 ...
        -4.02854090178084e-05 0.00152625595265946 0.00219242684021419 ...
        0.00155085123420484 -4.03753461623826e-05 -0.00165694704543954 ...
        -0.00234487539714702 -0.00168307282268115 -4.04627734495961e-05 ...
        0.00162899998679555 0.00233991362201761 0.00165661636913481 ...
        -4.05476823861525e-05 -0.00176621474475425 -0.00250164179977891 ...
        -0.0017956439208966 -4.0630064722272e-05 0.00174469986885859 ...
        0.00250614491897004 0.00177594976752364 -4.07099124527996e-05 ...
        -0.0018896822204372 -0.00267897699661634 -0.00192310904027277 ...
        -4.07872178176595e-05 0.0018760543740849 0.00269506061681269 ...
        0.00191172808205413 -4.08619733032225e-05 -0.00203041879054307 ...
        -0.00288136658354396 -0.00206874673198292 -4.09341716426753e-05 ...
        0.00202656956213024 0.0029117902593827 0.00206770483765419 ...
        -4.1003805817154e-05 -0.00219244757670093 -0.0031147037195654 ...
        -0.00223687452961829 -4.10708690562468e-05 0.00220088495557654 ...
        0.00316313862694138 0.00224887203132439 -4.11353548388622e-05 ...
        -0.00238114710541951 -0.00338688809021235 -0.00243329582311373 ...
        -4.11972568938943e-05 0.00240527176855523 0.00345833028948221 ...
        0.00246201675201009 -4.12565692010915e-05 -0.00260387448240507 ...
        -0.00370875917594482 -0.00266599908488394 -4.13132859912468e-05 ...
        0.00264841926749063 0.00381018999597804 0.00271660764918797 ...
        -4.13674017474325e-05 -0.00287096720430547 -0.00409560383938229 ...
        -0.00294629297705001 -4.14189112050965e-05 0.00294272440261216 ...
        0.004237088721357 0.00302626428479628 -4.14678093530251e-05 ...
        -0.003197422251486 -0.00456969768643118 -0.00329073109832407 ...
        -4.15140914334893e-05 0.00330650535445646 0.00476630502018671 ...
        0.00341131154492463 -4.15577529431254e-05 -0.00360585448941996 ...
        -0.00516481393256984 -0.00372455128564808 -4.15987896331882e-05 ...
        0.00376801593162009 0.00544016819009224 0.00390348513488507 ...
        -4.16371975102681e-05 -0.00413203694746793 -0.00593474015001106 ...
        -0.00428822975485652 -4.16729728363321e-05 0.00437323822505357 ...
        0.00632809887180696 0.00455524653866833 -4.17061121295049e-05 ...
        -0.00483609925448758 -0.0069706820550718 -0.00505102632448309 ...
        -4.17366121642351e-05 0.00520237403904103 0.00755241033469597 ...
        0.00546000329657631 -4.17644699718884e-05 -0.00582750876416126 ...
        -0.00844065102658328 -0.0061421018215254 -4.17896828406107e-05 ...
        0.00640895314155848 0.00935053510617381 0.00680174059550788 ...
        -4.18122483161716e-05 -0.00732873213211369 -0.0106918716532853 ...
        -0.00783314015846844 -4.18321642017907e-05 0.00832846729271725 ...
        0.0122521315318594 0.00899994551223585 -4.18494285587157e-05 ...
        -0.00987175583613906 -0.0145766239294398 -0.0108098208715937 ...
        -4.18640397061209e-05 0.0118614481340628 0.0177284744954224 ...
        0.0132637291195221 -4.18759962216034e-05 -0.0151234723604824 ...
        -0.0228952586915463 -0.0174456517999639 -4.1885296941025e-05 ...
        0.020528157684892 0.0319589215923763 0.025101266490492 ...
        -4.18919409589526e-05 -0.0323708573566244 -0.0533833365464545 ...
        -0.0453045954806674 -4.18959276284433e-05 0.0753983267765553 ...
        0.159992567468286 0.226282356903702 0.251341642111952 0.226282356903702 ...
        0.159992567468286 0.0753983267765553 -4.18959276284433e-05 ...
        -0.0453045954806674 -0.0533833365464545 -0.0323708573566244 ...
        -4.18919409589526e-05 0.025101266490492 0.0319589215923763 ...
        0.020528157684892 -4.1885296941025e-05 -0.0174456517999639 ...
        -0.0228952586915463 -0.0151234723604824 -4.18759962216034e-05 ...
        0.0132637291195221 0.0177284744954224 0.0118614481340628 ...
        -4.18640397061209e-05 -0.0108098208715937 -0.0145766239294398 ...
        -0.00987175583613906 -4.18494285587157e-05 0.00899994551223585 ...
        0.0122521315318594 0.00832846729271725 -4.18321642017907e-05 ...
        -0.00783314015846844 -0.0106918716532853 -0.00732873213211369 ...
        -4.18122483161716e-05 0.00680174059550788 0.00935053510617381 ...
        0.00640895314155848 -4.17896828406107e-05 -0.0061421018215254 ...
        -0.00844065102658328 -0.00582750876416126 -4.17644699718884e-05 ...
        0.00546000329657631 0.00755241033469597 0.00520237403904103 ...
        -4.17366121642351e-05 -0.00505102632448309 -0.0069706820550718 ...
        -0.00483609925448758 -4.17061121295049e-05 0.00455524653866833 ...
        0.00632809887180696 0.00437323822505357 -4.16729728363321e-05 ...
        -0.00428822975485652 -0.00593474015001106 -0.00413203694746793 ...
        -4.16371975102681e-05 0.00390348513488507 0.00544016819009224 ...
        0.00376801593162009 -4.15987896331882e-05 -0.00372455128564808 ...
        -0.00516481393256984 -0.00360585448941996 -4.15577529431254e-05 ...
        0.00341131154492463 0.00476630502018671 0.00330650535445646 ...
        -4.15140914334893e-05 -0.00329073109832407 -0.00456969768643118 ...
        -0.003197422251486 -4.14678093530251e-05 0.00302626428479628 ...
        0.004237088721357 0.00294272440261216 -4.14189112050965e-05 ...
        -0.00294629297705001 -0.00409560383938229 -0.00287096720430547 ...
        -4.13674017474325e-05 0.00271660764918797 0.00381018999597804 ...
        0.00264841926749063 -4.13132859912468e-05 -0.00266599908488394 ...
        -0.00370875917594482 -0.00260387448240507 -4.12565692010915e-05 ...
        0.00246201675201009 0.00345833028948221 0.00240527176855523 ...
        -4.11972568938943e-05 -0.00243329582311373 -0.00338688809021235 ...
        -0.00238114710541951 -4.11353548388622e-05 0.00224887203132439 ...
        0.00316313862694138 0.00220088495557654 -4.10708690562468e-05 ...
        -0.00223687452961829 -0.0031147037195654 -0.00219244757670093 ...
        -4.1003805817154e-05 0.00206770483765419 0.0029117902593827 ...
        0.00202656956213024 -4.09341716426753e-05 -0.00206874673198292 ...
        -0.00288136658354396 -0.00203041879054307 -4.08619733032225e-05 ...
        0.00191172808205413 0.00269506061681269 0.0018760543740849 ...
        -4.07872178176595e-05 -0.00192310904027277 -0.00267897699661634 ...
        -0.0018896822204372 -4.07099124527996e-05 0.00177594976752364 ...
        0.00250614491897004 0.00174469986885859 -4.0630064722272e-05 ...
        -0.0017956439208966 -0.00250164179977891 -0.00176621474475425 ...
        -4.05476823861525e-05 0.00165661636913481 0.00233991362201761 ...
        0.00162899998679555 -4.04627734495961e-05 -0.00168307282268115 ...
        -0.00234487539714702 -0.00165694704543954 -4.03753461623826e-05 ...
        0.00155085123420484 0.00219242684021419 0.00152625595265946 ...
        -4.02854090178084e-05 -0.00158286143016366 -0.00220520325894889 ...
        -0.00155949680986829 -4.01929707518672e-05 0.00145641268442739 ...
        0.00206060840969831 0.0014343566043422 -4.00980403421288e-05 ...
        -0.00149301986877286 -0.00207989230346541 -0.00147198674263714 ...
        -4.00006270070296e-05 0.00137152800748281 0.0019420215427081 ...
        0.00135162674876348 -3.99007402045401e-05 -0.00141196399370787 ...
        -0.00196676318816275 -0.00139291751712471 -3.97983896315473e-05 ...
        0.0012947769417871 0.00183471095455701 0.00127672017365701 ...
        -3.96935852223042e-05 -0.00133841703107889 -0.00186405687800126 ...
        -0.00132107724390518 -3.95863371478662e-05 0.00122500825428798 ...
        0.00173708956645862 0.00120854269109465 -3.9476655814498e-05 ...
        -0.0012713385093051 -0.001770338022404 -0.00125547577062138]);
end

y = step(Hd,x);


% [EOF]
